USERMAP_UID={{ docker_user_uid }}
USERMAP_GID={{ docker_group_gid }}

# General
PAPERLESS_SECRET_KEY={{ paperless_ngx_secret_key }}
PAPERLESS_URL={{ paperless_ngx_domain }}
PAPERLESS_TIME_ZONE={{ default_tz }}
PAPERLESS_OCR_LANGUAGE={{ paperless_ngx_ocr_language | default('eng') }}

# Admin user
PAPERLESS_ADMIN_USER=admin
PAPERLESS_ADMIN_PASSWORD={{ paperless_ngx_admin_password }}

# SMTP settings
PAPERLESS_EMAIL_HOST={{ smtp_host }}
PAPERLESS_EMAIL_PORT={{ smtp_port }}
PAPERLESS_EMAIL_HOST_USER={{ smtp_username }}
PAPERLESS_EMAIL_HOST_PASSWORD={{ smtp_password }}
PAPERLESS_EMAIL_USE_TLS=true

# OIDC provider configuration
OIDC_CLIENT_ID={{ paperless_ngx_oidc_client_id }}
OIDC_CLIENT_SECRET={{ paperless_ngx_oidc_client_secret }}
OIDC_PROVIDER_ID=authentik
OIDC_PROVIDER_SLUG={{ paperless_ngx_oidc_slug }}
OIDC_PROVIDER_URL=https://{{ paperless_ngx_oidc_domain }}/application/o/$OIDC_PROVIDER_SLUG/.well-known/openid-configuration
OIDC_PROVIDER_REDIRECT_URL=https://{{ paperless_ngx_oidc_domain }}/application/o/$OIDC_PROVIDER_SLUG/end-session/
PAPERLESS_APPS=allauth.socialaccount.providers.openid_connect
PAPERLESS_SOCIALACCOUNT_PROVIDERS={"openid_connect": {"OAUTH_PKCE_ENABLED": true, "APPS": [{"provider_id": "$OIDC_PROVIDER_ID", "name": "$OIDC_PROVIDER_ID", "client_id": "$OIDC_CLIENT_ID", "secret": "$OIDC_CLIENT_SECRET", "settings": {"server_url": "$OIDC_PROVIDER_URL", "fetch_userinfo": true}}], "SCOPE": ["openid", "profile", "email"]}}
PAPERLESS_LOGOUT_REDIRECT_URL=$OIDC_PROVIDER_REDIRECT_URL
PAPERLESS_SOCIAL_AUTO_SIGNUP=true
PAPERLESS_SOCIALACCOUNT_ALLOW_SIGNUPS=true
PAPERLESS_ACCOUNT_ALLOW_SIGNUPS=false
